syntax = "proto3";

package dmx_controller;

message ControllerMapping {
  message Controller {
    map<string, Action> actions = 1;
  }

  message Action {
    oneof action {
      BeatMatch beat_match = 1;
      FirstBeat first_beat = 3;
      SceneMapping scene_mapping = 2;
    }
  }

  message BeatMatch {

  }

  message FirstBeat {

  }

  message SceneMapping {
    map<uint64, SceneAction> actions = 1;
  }

  message SceneAction {
    oneof action {
      uint64 tile_strength_id = 1;
      uint64 color_palette_id = 3;
    }
  }

  map<string, Controller> controllers = 1;
  string last_controller_name = 2;
}
